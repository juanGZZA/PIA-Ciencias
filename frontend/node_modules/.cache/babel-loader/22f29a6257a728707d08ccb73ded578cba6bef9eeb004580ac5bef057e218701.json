{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\juanp\\\\OneDrive\\\\Escritorio\\\\PIA-Ciencias\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport api from '../services/api';\nimport { useSelector } from 'react-redux';\nimport Grid from '@mui/material/Grid';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const user = useSelector(state => state.auth.user);\n  useEffect(() => {\n    let mounted = true;\n    api.get('/orders').then(res => {\n      if (mounted) {\n        const data = res.data || [];\n        if ((user === null || user === void 0 ? void 0 : user.role) === 'admin') setOrders(data);else setOrders(data.filter(o => o.customerId === (user === null || user === void 0 ? void 0 : user.id)));\n      }\n    }).catch(() => {});\n    return () => {\n      mounted = false;\n    };\n  }, [user]);\n  const totalRevenue = orders.reduce((s, o) => s + (o.total || 0), 0);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        mt: 1\n      },\n      color: \"text.secondary\",\n      children: \"Resumen r\\xE1pido de ventas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      sx: {\n        mt: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              color: \"text.secondary\",\n              children: \"Orders\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              sx: {\n                mt: 1\n              },\n              children: orders.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              color: \"text.secondary\",\n              children: \"Total Revenue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              sx: {\n                mt: 1\n              },\n              children: [\"$\", totalRevenue.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              color: \"text.secondary\",\n              children: \"Recent Orders\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(List, {\n              children: orders.slice(0, 5).map(o => /*#__PURE__*/_jsxDEV(ListItem, {\n                disableGutters: true,\n                children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: `${o.invoiceNumber || o.id} - $${o.total}`,\n                  secondary: `Status: ${o.status}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 21\n                }, this)\n              }, o.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"Kem6fypKwpajbvKBMI3zJOMBDKE=\", false, function () {\n  return [useSelector];\n});\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","Typography","Box","api","useSelector","Grid","Card","CardContent","List","ListItem","ListItemText","jsxDEV","_jsxDEV","Dashboard","_s","orders","setOrders","user","state","auth","mounted","get","then","res","data","role","filter","o","customerId","id","catch","totalRevenue","reduce","s","total","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","sx","mt","color","container","spacing","item","xs","sm","md","length","toFixed","slice","map","disableGutters","primary","invoiceNumber","secondary","status","_c","$RefreshReg$"],"sources":["C:/Users/juanp/OneDrive/Escritorio/PIA-Ciencias/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Typography from '@mui/material/Typography';\r\nimport Box from '@mui/material/Box';\r\nimport api from '../services/api';\r\nimport { useSelector } from 'react-redux';\r\nimport Grid from '@mui/material/Grid';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nexport default function Dashboard() {\r\n  const [orders, setOrders] = useState([]);\r\n  const user = useSelector(state => state.auth.user);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    api.get('/orders').then(res => {\r\n      if (mounted) {\r\n        const data = res.data || [];\r\n        if (user?.role === 'admin') setOrders(data);\r\n        else setOrders(data.filter(o => o.customerId === user?.id));\r\n      }\r\n    }).catch(() => {});\r\n    return () => { mounted = false; };\r\n  }, [user]);\r\n\r\n  const totalRevenue = orders.reduce((s, o) => s + (o.total || 0), 0);\r\n\r\n  return (\r\n    <Box>\r\n      <Typography variant=\"h4\">Dashboard</Typography>\r\n      <Typography sx={{ mt: 1 }} color=\"text.secondary\">Resumen r√°pido de ventas</Typography>\r\n\r\n      <Grid container spacing={2} sx={{ mt: 2 }}>\r\n        <Grid item xs={12} sm={6} md={4}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"subtitle2\" color=\"text.secondary\">Orders</Typography>\r\n              <Typography variant=\"h5\" sx={{ mt: 1 }}>{orders.length}</Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} sm={6} md={4}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"subtitle2\" color=\"text.secondary\">Total Revenue</Typography>\r\n              <Typography variant=\"h5\" sx={{ mt: 1 }}>${totalRevenue.toFixed(2)}</Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={4}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"subtitle2\" color=\"text.secondary\">Recent Orders</Typography>\r\n              <List>\r\n                {orders.slice(0,5).map(o => (\r\n                  <ListItem key={o.id} disableGutters>\r\n                    <ListItemText primary={`${o.invoiceNumber || o.id} - $${o.total}`} secondary={`Status: ${o.status}`} />\r\n                  </ListItem>\r\n                ))}\r\n              </List>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}